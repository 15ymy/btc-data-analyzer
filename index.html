<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>BTCUSDT Data Calculator</title>
</head>
<body>
<h2>BTCUSDT Data Calculator</h2>
<form id="dataForm">
    <h3>Enter Data for Calculation</h3>
    <textarea id="inputData" rows="20" cols="50">Paste your data here. Each line should contain period, institutional_contract, retail_contract, institutional_spot, retail_spot values separated by spaces.</textarea>
    <br><br>
    <button type="button" onclick="calculateTotals()">Calculate Totals</button>
</form>

<h3>Results:</h3>
<p id="output">Results will be displayed here after calculation.</p>

<script>
function calculateTotals() {
    var inputData = document.getElementById("inputData").value;
    var lines = inputData.split('\n');
    var contract_institutional = [];
    var contract_retail = [];
    var spot_institutional = [];
    var spot_retail = [];

    // Parsing the input data
    for (var i = 0; i < lines.length; i++) {
        var values = lines[i].trim().split(/\s+/); // Split by one or more whitespace characters
        if (values.length === 5) {
            contract_institutional.push(parseFloat(values[1]));
            contract_retail.push(parseFloat(values[2]));
            spot_institutional.push(parseFloat(values[3]));
            spot_retail.push(parseFloat(values[4]));
        } else {
            document.getElementById("output").innerText = "Error in line " + (i+1) + ": Each line must have five elements.";
            return;
        }
    }

    // Calculating totals
    var contract_totals = contract_institutional.map((c, i) =>
