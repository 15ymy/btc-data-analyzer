<!DOCTYPE html>
<html>
<head>
  <title>数据提取和计算</title>
</head>
<body>
  <h1>请将数据粘贴到下面的文本框中:</h1>
  <textarea id="data-input" rows="10" cols="50"></textarea>
  <br>
  <button onclick="calculateSum()">计算结果</button>
  <br>
  <h2>结果:</h2>
  <p id="result"></p>

  <script>
    function calculateSum() {
      const data = document.getElementById('data-input').value;
      const lines = data.split('\n');
      let sum = 0;

      for (let line of lines) {
        const match = line.match(/(-?\d+(\.\d+)?)(m|b)/i);
        if (match) {
          const value = parseFloat(match[1]);
          const unit = match[3].toLowerCase();
          
          if (unit === 'b') {
            sum += value * 1000;
          } else {
            sum += value;
          }
        }
      }

      document.getElementById('result').innerText = `总和为: ${sum.toFixed(2)} 百万美元`;
    }
  </script>
</body>
</html>
