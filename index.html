<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>BTCUSDT Data Calculator</title>
</head>
<body>
<h2>BTCUSDT Data Calculator</h2>
<form id="dataForm">
    <h3>Enter Data for Calculation</h3>
    <textarea id="inputData" rows="20" cols="50">Paste your data here in the specified format.</textarea>
    <br><br>
    <button type="button" onclick="calculateTotals()">Calculate Totals</button>
</form>

<h3>Results:</h3>
<p id="output">Results will be displayed here after calculation.</p>

<script>
function calculateTotals() {
    var inputData = document.getElementById("inputData").value;
    var lines = inputData.split('\n');
    var contract_institutional = [];
    var contract_retail = [];
    var spot_institutional = [];
    var spot_retail = [];

    // Parsing the input data
    for (var i = 1; i < lines.length; i++) { // starts from 1 to skip header
        var values = lines[i].split(' ');
        contract_institutional.push(parseFloat(values[1]));
        contract_retail.push(parseFloat(values[2]));
        spot_institutional.push(parseFloat(values[3]));
        spot_retail.push(parseFloat(values[4]));
    }

    // Calculating totals
    var contract_totals = contract_institutional.map((c, i) => c + contract_retail[i]);
    var spot_totals = spot_institutional.map((s, i) => s + spot_retail[i]);
    var overall_sum = contract_totals.reduce((a, b) => a + b, 0) + spot_totals.reduce((a, b) => a + b, 0);

    // Displaying results
    var resultText = "Contract Totals: " + contract_totals.join('m, ') + "m\n";
    resultText += "Spot Totals: " + spot_totals.join('m, ') + "m\n";
    resultText += "Overall Sum: " + overall_sum.toFixed(2) + " million USD";
    document.getElementById("output").innerText = resultText;
}
</script>

</body>
</html>
